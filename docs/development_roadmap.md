# 開發路線圖

本文件記錄 MULTALL 渦輪機械設計系統的開發計劃和進度。

## 🎯 最終目標

**輸出完整的 3D 葉片 CAD 模型**，包含：
- ✅ 流道幾何（Shroud、Hub）
- ✅ 轉子葉片（Rotors）- 完整 3D 幾何
- ✅ 定子葉片（Stators）- 完整 3D 幾何
- ✅ 支援多種 CAD 格式（STEP, IGES, STL）
- ✅ 參數化設計，可調整和優化

## 版本規劃

### v0.1.0 - 專案初始化 ✅ (已完成 2025-01-29)

- [x] 專案結構設置
- [x] Python 3.14 + PySide6 環境
- [x] uv 套件管理設置
- [x] 基本 CI/CD 流程
- [x] MIT 授權
- [x] UTF-8/正體中文支援
- [x] 基本測試框架
- [x] GitHub 倉庫設置

### v0.2.0 - MEANGEN 模組 (🔄 進行中 ~30%)

**目標**: 實現一維平均線設計功能

- [ ] 速度三角形計算
  - [ ] 軸向速度分量計算
  - [ ] 周向速度分量計算
  - [ ] 徑向速度分量計算
  - [ ] 馬赫數計算

- [ ] 流道面積設計
  - [ ] 入口面積計算
  - [ ] 出口面積計算
  - [ ] 中間流道面積

- [ ] 初始葉片數估算
  - [ ] Zweifel 係數計算
  - [ ] 葉片數優化

- [ ] 葉片輪廓猜測
  - [ ] 攻角計算
  - [ ] 彎角計算

- [ ] 輸入/輸出處理
  - [ ] 讀取 meangen.in 檔案
  - [ ] 生成 stagen.dat 檔案
  - [ ] 生成 meangen.out 報告

- [ ] UI 介面
  - [ ] 參數輸入表單
  - [ ] 即時計算與預覽
  - [ ] 結果視覺化

- [ ] 測試
  - [ ] 單元測試
  - [ ] 整合測試
  - [ ] 使用範例檔案驗證

**預計時程**: 2-3 週

### v0.3.0 - STAGEN 模組 (計劃中)

**目標**: 實現葉片幾何生成功能

- [ ] 葉片幾何生成
  - [ ] 葉片輪廓生成
  - [ ] 葉片堆疊
  - [ ] 多級組合

- [ ] 網格生成
  - [ ] 網格點數控制
  - [ ] 網格間距設定
  - [ ] 網格細化

- [ ] 輸入/輸出處理
  - [ ] 讀取 stagen.dat 檔案
  - [ ] 生成 stage_new.dat 檔案
  - [ ] 生成 stage_old.dat 檔案

- [ ] UI 介面
  - [ ] 幾何參數輸入
  - [ ] 3D 葉片預覽
  - [ ] 網格視覺化

- [ ] 測試
  - [ ] 幾何計算測試
  - [ ] 網格生成測試
  - [ ] 多級組合測試

**預計時程**: 3-4 週

### v0.4.0 - MULTALL 求解器（基礎） (計劃中)

**目標**: 實現基本的 3D 流場求解功能

- [ ] 數值方法
  - [ ] 控制體積法
  - [ ] 時間推進方案
  - [ ] 空間離散

- [ ] 邊界條件
  - [ ] 入口邊界
  - [ ] 出口邊界
  - [ ] 固壁邊界
  - [ ] 週期邊界

- [ ] 求解器核心
  - [ ] 連續性方程
  - [ ] 動量方程
  - [ ] 能量方程

- [ ] 基本功能
  - [ ] 軸流機械求解
  - [ ] 收斂性判斷
  - [ ] 結果輸出

- [ ] UI 介面
  - [ ] 求解參數設定
  - [ ] 收斂歷程顯示
  - [ ] 基本結果視覺化

**預計時程**: 4-6 週

### v0.5.0 - MULTALL 求解器（進階） (計劃中)

**目標**: 增加進階功能和模型

- [ ] 紊流模型
  - [ ] Baldwin-Lomax 模型
  - [ ] k-ε 模型

- [ ] 進階幾何
  - [ ] 混流機械
  - [ ] 徑向流機械
  - [ ] 葉尖間隙

- [ ] 多級耦合
  - [ ] 混合平面模型
  - [ ] 級間參數傳遞

- [ ] 冷卻模擬
  - [ ] 冷卻流道
  - [ ] 薄膜冷卻

**預計時程**: 4-6 週

### v0.6.0 - 視覺化與後處理 (計劃中)

**目標**: 完善結果視覺化功能

- [ ] 2D 視覺化
  - [ ] 壓力分佈圖
  - [ ] 速度分佈圖
  - [ ] 馬赫數分佈圖

- [ ] 3D 視覺化
  - [ ] 流線圖
  - [ ] 等值面
  - [ ] 向量場

- [ ] 結果分析
  - [ ] 效率計算
  - [ ] 損失分析
  - [ ] 性能曲線

- [ ] 資料匯出
  - [ ] Tecplot 格式
  - [ ] VTK 格式
  - [ ] CSV 格式

**預計時程**: 2-3 週

### v0.7.0 - 逆向設計模式 (計劃中)

**目標**: 實現逆向設計功能

- [ ] 目標壓力分佈輸入
- [ ] 葉片形狀反演
- [ ] 迭代優化
- [ ] 結果驗證

**預計時程**: 3-4 週

### v0.8.0 - 蒸汽渦輪支援 (計劃中)

**目標**: 增加蒸汽渦輪專用功能

- [ ] 蒸汽性質表
  - [ ] 查表功能
  - [ ] 插值計算

- [ ] 濕蒸汽模型
- [ ] 蒸汽渦輪專用邊界條件

**預計時程**: 2-3 週

### v0.9.0 - 優化與效能 (計劃中)

**目標**: 效能優化和穩定性改善

- [ ] 計算效能優化
  - [ ] NumPy 向量化
  - [ ] Numba JIT 編譯
  - [ ] 平行計算

- [ ] 記憶體優化
- [ ] 錯誤處理改善
- [ ] 使用者體驗優化

**預計時程**: 2-3 週

### v0.10.0 - 3D CAD 輸出 (計劃中)

**目標**: 生成完整的 3D 葉片 CAD 模型

- [ ] CAD 核心引擎整合
  - [ ] 選擇 CAD 庫（CadQuery / pythonOCC / FreeCAD API）
  - [ ] 基本 3D 幾何操作

- [ ] 流道 3D 建模
  - [ ] Hub 曲面生成
  - [ ] Shroud 曲面生成
  - [ ] 流道實體建模

- [ ] 轉子葉片 3D 建模
  - [ ] 葉片截面生成
  - [ ] 葉片曲面放樣（Lofting）
  - [ ] 葉片實體建模
  - [ ] 葉根連接
  - [ ] 葉尖處理

- [ ] 定子葉片 3D 建模
  - [ ] 定子截面生成
  - [ ] 定子曲面放樣
  - [ ] 定子實體建模
  - [ ] 端壁連接

- [ ] 組裝與輸出
  - [ ] 多級組裝
  - [ ] STEP 格式輸出
  - [ ] IGES 格式輸出
  - [ ] STL 格式輸出（用於 3D 列印/視覺化）
  - [ ] 參數化 CAD 腳本生成

- [ ] 視覺化
  - [ ] 3D 即時預覽
  - [ ] 剖面顯示
  - [ ] 動畫展示

**預計時程**: 3-4 週

### v1.0.0 - 正式版本 (計劃中)

**目標**: 功能完整的穩定版本

- [ ] 完整功能測試
- [ ] 文檔完善
- [ ] 使用者手冊
- [ ] 教學範例
- [ ] 效能基準測試

**預計時程**: 1-2 週

## 未來規劃 (v1.x)

### 可能的功能增強

- **GUI 改進**
  - 深色模式
  - 自定義主題
  - 多語言支援（英文、簡體中文等）

- **進階分析**
  - 不穩定流動分析
  - 聲學分析
  - 結構-流體耦合

- **自動化工具**
  - 自動網格生成
  - 參數掃描
  - 優化算法整合

- **雲端功能**
  - 遠端計算
  - 結果共享
  - 協作功能

## 貢獻優先級

當前最需要貢獻的領域（按優先級排序）：

1. **MEANGEN 模組實現** - 最高優先級
2. **測試案例建立** - 高優先級
3. **文檔撰寫** - 高優先級
4. **UI 設計與實現** - 中優先級
5. **效能優化** - 中優先級

## 里程碑

- **2025 Q1**: v0.1.0 - v0.3.0（核心模組）
- **2025 Q2**: v0.4.0 - v0.6.0（求解器與視覺化）
- **2025 Q3**: v0.7.0 - v0.9.0（進階功能與優化）
- **2025 Q3**: v0.10.0（**3D CAD 輸出 - 重要里程碑**）
- **2025 Q4**: v1.0.0（正式發布）

## 3D CAD 技術選型

### 候選方案

1. **CadQuery** (推薦)
   - ✅ Python-native, 易於整合
   - ✅ 參數化設計
   - ✅ 支援 STEP, STL 輸出
   - ✅ 活躍維護
   - ❌ 功能相對簡單

2. **pythonOCC**
   - ✅ OpenCASCADE 完整綁定
   - ✅ 強大的 CAD 功能
   - ✅ 工業級品質
   - ❌ 學習曲線陡峭
   - ❌ 文檔較少

3. **FreeCAD Python API**
   - ✅ 完整 CAD 功能
   - ✅ GUI 整合
   - ✅ 大量範例
   - ❌ 需要 FreeCAD 安裝
   - ❌ API 相對複雜

**選擇**: CadQuery 作為主要方案，pythonOCC 作為進階選項

## 進度追蹤

可以在 [GitHub Projects](https://github.com/LostSunset/multall-turbomachinery-design/projects) 查看詳細的開發進度。

---

最後更新: 2025-01-29
